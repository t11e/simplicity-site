<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Simplicity Widgets - Google Maps</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="http://cdn.transparensee.com/lib/bootstrap/2.1.1/bootstrap.min.css" rel="stylesheet">
    <link href="http://cdn.transparensee.com/lib/bootstrap/2.1.1/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/themes/base/jquery-ui.css" rel="stylesheet">
    <link href="http://cdn.transparensee.com/simplicity/3.2/simplicity.min.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/documentation.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="navbar navbar-inverse navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">Simplicity Widgets</a>
          <ul class="nav">
            
              
                <li><a href="/">home</a></li>
              
            
              
                <li class="active"><a href="/userguide/" class="active">userguide</a></li>
              
            
              
                <li><a href="/download.html">download</a></li>
              
            
              
                <li><a href="/jsdoc/">jsdoc</a></li>
              
            
              
                <li><a href="/changelog.html">changelog</a></li>
              
            
          </ul>
        </div>
      </div>
    </div>

    
      <header class="subhead">
        <div class="container">
          <h1>Google Maps</h1>
          
            <p class="lead">You are here.</p>
          
        </div>
      </header>
    

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <div class="container">
<div class='userguide-nav row'>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Basics</li>
            <li class=''><a href='/userguide/'>Getting started</a></li>
            <li class=''><a href='/userguide/primer.html'>Primer</a></li>
            <li class=''><a href='/userguide/widgetgroups.html'>Widget groups</a></li>
        </ul>
    </div>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Search</li>
            <li class=''><a href='/userguide/simplicityState.html'>simplicityState</a></li>
            <li class=''><a href='/userguide/simplicityDiscoverySearch.html'>simplicityDiscoverySearch</a></li>
            <li class=''><a href='/userguide/simplicityInputs.html'>simplicityInputs</a></li>
        </ul>
    </div>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Response Widgets</li>
            <li class=''><a href='/userguide/simplicitySearchResults.html'>simplicitySearchResults</a></li>
            <li class=''><a href='/userguide/simplicityFacetedSelect.html'>simplicityFacetedSelect</a></li>
        </ul>
    </div>
</div><div class='userguide-nav row'>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>User Interface</li>
            <li class=''><a href='/userguide/simplicityFancySelect.html'>simplicityFancySelect</a></li>
            <li class=''><a href='/userguide/simplicitySelectSlider.html'>simplicitySelectSlider</a></li>
        </ul>
    </div>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Mapping</li>
            <li class='active'><a href='/userguide/googleMaps.html'>Google Maps</a></li>
        </ul>
    </div>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Examples</li>
            <li class=''><a href='/userguide/example/gettingstarted.html'>Getting Started</a></li>
        </ul>
    </div>
</div><div class='page-header'>
  <h1>Google Maps</h1>
</div><div class='row'>
    <div class='span8'>
        <p>
            Exposes the mapping functionality from the
            <a href='https://developers.google.com/maps/documentation/javascript/reference'>Google Maps JavaScript API V3</a>.
        </p>
        <p>
            Simplicity provides a set of widgets to help add maps to your pages.
            <dl>
                <dt>simplicityGoogleMap</dt>
                <dd>Wraps the Google Map object, used by the other Simplicity widgets.</dd>
                <dt>simplicityGoogleMapResults</dt>
                <dd>Adds a marker to the map for each item in the current page of search results.</dd>
                <dt>simplicityGoogleMapBoundsCoordinator</dt>
                <dd>Moves and scales the map to ensure all markers are visible.</dd>
                <dt>simplicityGoogleMapBoundsTracker</dt>
                <dd>Watches the map to expose its position as it is panned and zoomed.</dd>
                <dt>simplicityGoogleGeocoder</dt>
                <dd>Converts addresses to latitude/longitude using AJAX requests to Google.</dd>
            </dl>
        </p>
    </div>
</div><div class='page-header'>
  <h1>Adding Google Maps to the page</h1>
</div><div class='row'>
    <div class='span8'>
        <p>
            To use a Google Map, you need to add the Google Maps <code>script</code> tag to the page. This is documented in the
            <a href='https://developers.google.com/maps/documentation/javascript/tutorial'>Getting Started</a> section of the
            Developer's Guide over at Google.
        </p>
        <p>
            To summarize their fine documentation, add a single script tag to the page:
        </p>

<div class='highlight'><pre><code class='html'><span class='nt'>&lt;script </span><span class='na'>type=</span><span class='s'>&quot;text/javascript&quot;</span>
    <span class='na'>src=</span><span class='s'>&quot;https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&amp;sensor=SET_TO_TRUE_OR_FALSE&quot;</span><span class='nt'>&gt;</span>
<span class='nt'>&lt;/script&gt;</span>
</code></pre>
</div>


        <p>
            The API key is optional but recommended and well documented in the
            <a href='https://developers.google.com/maps/documentation/javascript/tutorial'>Getting Started</a> section of the
            Developer's Guide over at Google.
        </p>
        <p>
            Place the script tag at the bottom of the page, typically after the script tags that load jQuery and Simplicity.
            This way the rest of the Simplicity wigets can interact even if there are network delays loading the Google Maps API.
        </p>

<div class='highlight'><pre><code class='html'><span class='nt'>&lt;html&gt;</span>
    <span class='nt'>&lt;head&gt;</span>
        <span class='nt'>&lt;link</span> <span class='na'>rel=</span><span class='s'>&quot;stylesheet&quot;</span> <span class='na'>href=</span><span class='s'>&quot;path/to/simplicity.min.css&quot;</span><span class='nt'>&gt;</span>
    <span class='nt'>&lt;/head&gt;</span>
    <span class='nt'>&lt;body&gt;</span>
        <span class='nt'>&lt;div&gt;</span>
            <span class='c'>&lt;!-- page content goes here --&gt;</span>
        <span class='nt'>&lt;/div&gt;</span>
        <span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;path/to/jquery.min.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
        <span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;path/to/jquery-ui.min.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
        <span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;path/to/simplicity.min.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
        <span class='nt'>&lt;script </span><span class='na'>type=</span><span class='s'>&quot;text/javascript&quot;</span> <span class='na'>src=</span><span class='s'>&quot;http://maps.google.com/maps/api/js?sensor=false&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
    <span class='nt'>&lt;/body&gt;</span>
<span class='nt'>&lt;/html&gt;</span>
</code></pre>
</div>


    </div>
</div><div class='page-header'>
  <h1>simplicityGoogleMap</h1>
</div><div class='row'>
    <div class='span8'>
        <p>
            This widget acts as a container for the Google map object. It can automatically create a map or you can pass one
            in. Other simplicity widgets use this widget to locate the actual map object.
        </p>
    </div>
</div><div class='page-header'>
  <h2>Automatic map creation</h2>
</div><div class='row'>
    <div class='span8'>
        <p>
            To create a map, first create a container <code>div</code>. Notice that we explicitly configure the width and height of
            this div. Failure to do so will result in a 0x0 map that is not visible.
        </p>

<div class='highlight'><pre><code class='html'><span class='nt'>&lt;div</span> <span class='na'>id=</span><span class='s'>&quot;example&quot;</span> <span class='na'>style=</span><span class='s'>&quot;width:400px; height:200px;&quot;</span><span class='nt'>&gt;&lt;/div&gt;</span>
</code></pre>
</div>


        <p>
            Then either create the map with the default options.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>simplicityGoogleMap</span><span class='p'>();</span>
</code></pre>
</div>


        <p>
            Or pass in your own.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>simplicityGoogleMap</span><span class='p'>({</span>
    <span class='nx'>mapOptions</span><span class='o'>:</span> <span class='p'>{</span>
        <span class='nx'>center</span><span class='o'>:</span> <span class='k'>new</span> <span class='nx'>google</span><span class='p'>.</span><span class='nx'>maps</span><span class='p'>.</span><span class='nx'>LatLng</span><span class='p'>(</span><span class='mf'>51.507</span><span class='p'>,</span> <span class='o'>-</span><span class='mf'>0.128</span><span class='p'>),</span>
        <span class='nx'>zoom</span><span class='o'>:</span> <span class='mi'>11</span><span class='p'>,</span>
        <span class='nx'>mapTypeId</span><span class='o'>:</span> <span class='nx'>google</span><span class='p'>.</span><span class='nx'>maps</span><span class='p'>.</span><span class='nx'>MapTypeId</span><span class='p'>.</span><span class='nx'>ROADMAP</span>
    <span class='p'>}</span>
<span class='p'>});</span>
</code></pre>
</div>


        <p>
            You can then access the created map as you need to.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>map</span> <span class='o'>=</span> <span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>simplicityGoogleMap</span><span class='p'>(</span><span class='s1'>&#39;map&#39;</span><span class='p'>);</span>
<span class='nx'>map</span><span class='p'>.</span><span class='nx'>setZoom</span><span class='p'>(</span><span class='mi'>2</span><span class='p'>);</span>
</code></pre>
</div>


    </div>
    <div class='span4'>
        <h3>Example</h3>
        <div class='map-example' id='map1'> </div>
        <script type='text/javascript'>
            $(function () {
                $('#map1').simplicityGoogleMap({
                    mapOptions: {
                        center: new google.maps.LatLng(51.507, -0.128),
                        zoom: 8,
                        mapTypeId: google.maps.MapTypeId.ROADMAP
                    }
                });
            });
        </script>
    </div>
</div><div class='page-header'>
  <h2>Manual map creation</h2>
</div><div class='row'>
    <div class='span8'>
        <p>
            To create a map, first create a holder <code>div</code>.
        </p>

<div class='highlight'><pre><code class='html'><span class='nt'>&lt;div</span> <span class='na'>id=</span><span class='s'>&quot;example&quot;</span> <span class='na'>style=</span><span class='s'>&quot;width:400px; height:200px;&quot;</span><span class='nt'>&gt;&lt;/div&gt;</span>
</code></pre>
</div>


        <p>
            Then create the map and pass it into the <code>simplicityGoogleMap</code> widget.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>map</span> <span class='o'>=</span> <span class='k'>new</span> <span class='nx'>google</span><span class='p'>.</span><span class='nx'>maps</span><span class='p'>.</span><span class='nx'>Map</span><span class='p'>(</span><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>)[</span><span class='mi'>0</span><span class='p'>],</span> <span class='p'>{</span>
    <span class='nx'>center</span><span class='o'>:</span> <span class='k'>new</span> <span class='nx'>google</span><span class='p'>.</span><span class='nx'>maps</span><span class='p'>.</span><span class='nx'>LatLng</span><span class='p'>(</span><span class='mf'>40.748</span><span class='p'>,</span><span class='o'>-</span><span class='mf'>73.986</span><span class='p'>),</span>
    <span class='nx'>zoom</span><span class='o'>:</span> <span class='mi'>11</span><span class='p'>,</span>
    <span class='nx'>mapTypeId</span><span class='o'>:</span> <span class='nx'>google</span><span class='p'>.</span><span class='nx'>maps</span><span class='p'>.</span><span class='nx'>MapTypeId</span><span class='p'>.</span><span class='nx'>ROADMAP</span>
<span class='p'>});</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>simplicityGoogleMap</span><span class='p'>({</span>
    <span class='nx'>map</span><span class='o'>:</span> <span class='nx'>map</span>
<span class='p'>});</span>
</code></pre>
</div>


    </div>
    <div class='span4'>
        <h3>Example</h3>
        <div class='map-example' id='map2'> </div>
        <script type='text/javascript'>
            $(function () {
                var map = new google.maps.Map($('#map2')[0], {
                    center: new google.maps.LatLng(40.748,-73.986),
                    zoom: 11,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                });
                $('#map2').simplicityGoogleMap({
                    map: map
                });
            });
        </script>
    </div>
</div><div class='page-header'>
  <h1>simplicityGoogleMapResults</h1>
</div><div class='row'>
    <div class='span8'>
        <p>
            Places markers on the map for the current page of search results.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>)</span>
    <span class='p'>.</span><span class='nx'>simplicityGoogleMap</span><span class='p'>()</span>
    <span class='p'>.</span><span class='nx'>simplicityGoogleMapResults</span><span class='p'>();</span>
<span class='p'>});</span>
</code></pre>
</div>


        <p>
            By default, this widget will listen to search response from the <code>body</code> element and expect to find
            coordinates in the <code>latitude</code> and <code>longitude</code> properties of the search results. You can
            override these defaults by setting the <code>searchElement</code>, <code>latitudeField</code> and
            <code>longitudeField</code> options.
        </p>
        <p>
            The widget fires a <code>simplicitygooglemapresultsmarker</code> event which you can use to customize the
            generated map markers.
        </p>
    </div>
    <div class='span4'>
        <h3>Example</h3>
        <div id='exampleGoogleMapResults'>
            <label><span class='badge'>1</span> map</label>
            <div class='map-example'> </div>
            <label><span class='badge'>2</span> search response</label>
            <select name='response'>
                <option value='{&quot;_discovery&quot;:{&quot;response&quot;:{}}}'>Empty</option>
                <option value='{
  &quot;_discovery&quot;: {
    &quot;response&quot;: {
      &quot;itemIds&quot;: [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;],
      &quot;exactMatches&quot;: [true,true,true],
      &quot;relevanceValues&quot;: [1,1,1],
      &quot;properties&quot;: [
        {&quot;latitude&quot;:34, &quot;longitude&quot;:-95},
        {&quot;latitude&quot;:42, &quot;longitude&quot;:-100},
        {&quot;latitude&quot;:39, &quot;longitude&quot;:-90}
      ],
      &quot;startIndex&quot;: 0
    }
  }
}'>Page 1</option>
                <option value='{
  &quot;_discovery&quot;: {
    &quot;response&quot;: {
      &quot;itemIds&quot;: [&quot;d&quot;,&quot;e&quot;,&quot;f&quot;],
      &quot;exactMatches&quot;: [true,false,false],
      &quot;relevanceValues&quot;: [1,0,0],
      &quot;properties&quot;: [
        {&quot;latitude&quot;:34, &quot;longitude&quot;:-105},
        {&quot;latitude&quot;:42, &quot;longitude&quot;:-95},
        {&quot;latitude&quot;:36, &quot;longitude&quot;:-90}
      ],
      &quot;startIndex&quot;: 0
    }
  }
}'>Page 2</option>
            </select>
            <label><span class='badge'>3</span> response details</label>
            <pre style='height: 8em; overflow: scroll;' />
        </div>
        <script type='text/javascript'>
            $(function() {
                $('#exampleGoogleMapResults .map-example')
                    .simplicityGoogleMap({
                        mapOptions: {
                            center: new google.maps.LatLng(39.436,-94.746),
                            zoom: 3,
                            mapTypeId: google.maps.MapTypeId.ROADMAP
                        }
                    })
                    .simplicityGoogleMapResults({
                        searchElement: '#exampleGoogleMapResults',
                        markerType: 'google'
                    });
                $('#exampleGoogleMapResults pre').simplicityDocsJsonSelector({
                    selectElement: '#exampleGoogleMapResults select[name="response"]',
                    change: function (evt, json) {
                        $('#exampleGoogleMapResults').triggerHandler('simplicitySearchResponse', json);
                    }
                });
                $('#exampleGoogleMapResults select[name="response"]').change();
            });
        </script>
        <p>
            Select a sample search response from <span class='badge'>2</span>, see the details in <span class='badge'>3</span>
            and notice how the markers are updated in <span class='badge'>1</span>.
        </p>
    </div>
</div><div class='page-header'>
  <h2>simplicitygooglemapresultsmarker event</h2>
</div><div class='row'>
    <div class='span8'>
        <p>
            This event is triggered by <code>simplicityGoogleMapResults</code> whenever it creates a marker from a search
            result which is about to be added to the map. It gives you the opportunity to customize the marker before
            it is attached to the map or prevent it from being added.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>bind</span><span class='p'>(</span><span class='s1'>&#39;simplicitygooglemapresultsmarker&#39;</span><span class='p'>,</span> <span class='kd'>function</span> <span class='p'>(</span><span class='nx'>evt</span><span class='p'>,</span> <span class='nx'>ui</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='c1'>// Use different icons for exact and fuzzy matches.</span>
    <span class='k'>if</span> <span class='p'>(</span><span class='nx'>ui</span><span class='p'>.</span><span class='nx'>row</span><span class='p'>.</span><span class='nx'>exact</span><span class='p'>)</span> <span class='p'>{</span>
        <span class='nx'>ui</span><span class='p'>.</span><span class='nx'>marker</span><span class='p'>.</span><span class='nx'>setIcon</span><span class='p'>(</span><span class='s1'>&#39;example/exact.png&#39;</span><span class='p'>);</span>
    <span class='p'>}</span> <span class='k'>else</span> <span class='p'>{</span>
        <span class='nx'>ui</span><span class='p'>.</span><span class='nx'>marker</span><span class='p'>.</span><span class='nx'>setIcon</span><span class='p'>(</span><span class='s1'>&#39;example/fuzzy.png&#39;</span><span class='p'>);</span>
    <span class='p'>}</span>
<span class='p'>});</span>
</code></pre>
</div>


        <p>
            The <code>ui</code> parameter to the event handler will be populated with an <code>Object</code> containing
            the following properties.
        </p>
        <dl>
            <dt>map</dt>
            <dd>The <a href='https://developers.google.com/maps/documentation/javascript/reference#Map'>google.maps.Map</a> instance.</dd>
            <dt>marker</dt>
            <dd>The marker that has been created. Possibly a <a href='https://developers.google.com/maps/documentation/javascript/reference#Marker'>google.maps.Marker</a>.</dd>
            <dt>row</dt>
            <dd>
                Metadata about the associated row in the search results. This is an <code>Object</code> containing
                the following properties.
                <dl>
                    <dt>id</dt>
                    <dd>The <code>id</code> of this search result.</dd>
                    <dt>exact</dt>
                    <dd><code>true</code> is this is an exact match, <code>false</code> otherwise</dd>
                    <dt>score</dt>
                    <dd>The floating point relevance score for this result.</dd>
                    <dt>resultsIndex0</dt>
                    <dd>
                        The 0-based position of this result in the entire result set. With a page size of 10, the first
                        result on the first page would have value of <code>0</code>,
                        and the first result on the second page would have a value of <code>10</code>.
                    </dd>
                    <dt>index0</dt>
                    <dd>
                        The 0-based position of this result within the current page. The first result will always have
                        a value of <code>0</code>.
                    </dd>
                    <dt>index1</dt>
                    <dd>
                        The 1-based position of this result within the current page. The first result will always have
                        a value of <code>1</code>.
                    </dd>
                    <dt>properties</dt>
                    <dd>
                        Optional property. When it exist it contains the properties for the current result as returned by
                        the Discovery Search Engine. For example <code>{"_id":"10","price":375000}</code>.
                    </dd>
                    <dt>highlighting</dt>
                    <dd>
                        Optional property. When it exist it contains the highlighting response for the current result as returned
                        by the Discovery Search Engine. For example <code>{"description":"This is a &lt;b&gt;great&lt;/b&gt; example"}</code>.
                    </dd>
                </dl>
            </dd>
        </dl>
    </div>
</div><div class='page-header'>
  <h1>simplicityGoogleMapBoundsCoordinator</h1>
</div><div class='row'>
    <div class='span8'>
        <p>
            Handles coordinating the visible map bounds between multiple widgets. Achieves this by firing a
            <code>simplicitygooglemapboundscoordinatorcalculatebounds</code> event which provides a vendor specific
            bounds object, listeners of this event are responsible for extending the bounds to include all the points
            they want to make visible. The <code>simplicityGoogleMapResults</code> widget automatically adds its markers to
            the bounds event.
        </p>
        <p>
            To use this widget, simply attach it to the same DOM element as the map.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>)</span>
    <span class='p'>.</span><span class='nx'>simplicityGoogleMap</span><span class='p'>()</span>
    <span class='p'>.</span><span class='nx'>simplicityGoogleMapBoundsCoordinator</span><span class='p'>();</span>
</code></pre>
</div>


        <p>
            You can listen to the <code>simplicitygooglemapboundscoordinatorcalculatebounds</code> event like so.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>bind</span><span class='p'>(</span><span class='s1'>&#39;simplicitygooglemapboundscoordinatorcalculatebounds&#39;</span><span class='p'>,</span> <span class='kd'>function</span> <span class='p'>(</span><span class='nx'>evt</span><span class='p'>,</span> <span class='nx'>ui</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='c1'>// Ensure the following point is visible.</span>
    <span class='nx'>ui</span><span class='p'>.</span><span class='nx'>bounds</span><span class='p'>.</span><span class='nx'>extend</span><span class='p'>(</span><span class='k'>new</span> <span class='nx'>google</span><span class='p'>.</span><span class='nx'>maps</span><span class='p'>.</span><span class='nx'>LatLng</span><span class='p'>(</span><span class='mf'>39.436</span><span class='p'>,</span><span class='o'>-</span><span class='mf'>94.746</span><span class='p'>));</span>
<span class='p'>});</span>
</code></pre>
</div>


        <p>
            The <code>ui</code> parameter to the event handler will be populated with an <code>Object</code> containing
            the following properties.
        </p>
        <dl>
            <dt>bounds</dt>
            <dd>
                A <a href='https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds'>google.maps.LatLngBounds</a>
                instance that you can modify.
            </dd>
        </dl>
    </div>
    <div class='span4'>
        <h3>Example</h3>
        <div id='exampleGoogleMapBoundsCoordinator'>
            <label><span class='badge'>1</span> map</label>
            <div class='map-example'> </div>
            <label><span class='badge'>2</span> shapes</label>
            <ul>
                <li><label><input name='shape' type='checkbox' value='red' /> red</label></li>
                <li><label><input name='shape' type='checkbox' value='blue' /> blue</label></li>
                <li><label><input name='shape' type='checkbox' value='green' /> green</label></li>
            </ul>
            <label><span class='badge'>3</span> <button class='btn' name='updateBounds'>Update Bounds</button></label>
        </div>
        <script type='text/javascript'>
            $(function() {
                var map = new google.maps.Map($('#exampleGoogleMapBoundsCoordinator .map-example')[0], {
                    center: new google.maps.LatLng(37.653, -122.245),
                    zoom: 8,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                });
                var shapes = {
                    red: new google.maps.Polyline({
                        map: map,
                        strokeColor:'red',
                        path: [
                            new google.maps.LatLng(37.8011, -122.525),
                            new google.maps.LatLng(37.8271, -122.3575),
                            new google.maps.LatLng(37.6077, -122.3959),
                            new google.maps.LatLng(37.5968, -122.4866),
                            new google.maps.LatLng(37.8011, -122.525)
                        ]
                    }),
                    blue: new google.maps.Polyline({
                        map: map,
                        strokeColor:'blue',
                        path: [
                            new google.maps.LatLng(37.3811, -122.0663),
                            new google.maps.LatLng(37.4356, -121.8906),
                            new google.maps.LatLng(37.2391, -121.7285),
                            new google.maps.LatLng(37.2522, -121.8796),
                            new google.maps.LatLng(37.2719, -122.0279),
                            new google.maps.LatLng(37.3811, -122.0663)
                        ]
                    }),
                    green: new google.maps.Polyline({
                        map: map,
                        strokeColor:'green',
                        path: [
                            new google.maps.LatLng(37.8109, -122.3087),
                            new google.maps.LatLng(37.8293, -122.2723),
                            new google.maps.LatLng(37.7984, -122.2112),
                            new google.maps.LatLng(37.774, -122.2675),
                            new google.maps.LatLng(37.8109, -122.3087)
                        ]
                    })
                };
                $('#exampleGoogleMapBoundsCoordinator .map-example')
                    .simplicityGoogleMap({map:map})
                    .simplicityGoogleMapBoundsCoordinator();
                $('#exampleGoogleMapBoundsCoordinator .map-example').bind('simplicitygooglemapboundscoordinatorcalculatebounds', function (evt, ui) {
                    $('#exampleGoogleMapBoundsCoordinator input:checked').each(function (idx, elem) {
                        var shape = shapes[$(elem).attr('value')];
                        if ('undefined' !== typeof shape) {
                            $.each(shape.getPath().getArray(), function (idx, latLng) {
                                ui.bounds.extend(latLng);
                            });
                        }
                    });
                });
                $('#exampleGoogleMapBoundsCoordinator button').click(function () {
                    $('#exampleGoogleMapBoundsCoordinator .map-example').simplicityGoogleMapBoundsCoordinator('updateBounds');
                });
            });
        </script>
        <p>
            Choose which shapes you want to include in the bounds calculation from <span class='badge'>2</span>,
            press <span class='badge'>3</span> and notice how the map moves in <span class='badge'>1</span>.
        </p>
    </div>
</div><div class='page-header'>
  <h1>simplicityGoogleMapBoundsTracker</h1>
</div><div class='row'>
    <div class='span8'>
        <p>
            Gives access to the map bounds in normalized and vendor specific form. Triggers a
            <code>simplicitygooglemapboundstrackerbounds</code> event whenever the map is moved or zoomed.
        </p>
        <p>
            To use this widget, simply attach it to the same DOM element as the map.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>)</span>
    <span class='p'>.</span><span class='nx'>simplicityGoogleMap</span><span class='p'>()</span>
    <span class='p'>.</span><span class='nx'>simplicityGoogleMapBoundsTracker</span><span class='p'>();</span>
</code></pre>
</div>


        <p>
            You can listen to the <code>simplicitygooglemapboundstrackerbounds</code> event like so.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>bind</span><span class='p'>(</span><span class='s1'>&#39;simplicitygooglemapboundstrackerbounds&#39;</span><span class='p'>,</span> <span class='kd'>function</span> <span class='p'>(</span><span class='nx'>evt</span><span class='p'>,</span> <span class='nx'>ui</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='c1'>// Do something with the bounds</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;Map bounds:&#39;</span><span class='p'>);</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;    north&#39;</span><span class='p'>,</span> <span class='nx'>ui</span><span class='p'>.</span><span class='nx'>bounds</span><span class='p'>.</span><span class='nx'>north</span><span class='p'>);</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;    east &#39;</span><span class='p'>,</span>  <span class='nx'>ui</span><span class='p'>.</span><span class='nx'>bounds</span><span class='p'>.</span><span class='nx'>east</span><span class='p'>);</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;    south&#39;</span><span class='p'>,</span> <span class='nx'>ui</span><span class='p'>.</span><span class='nx'>bounds</span><span class='p'>.</span><span class='nx'>south</span><span class='p'>);</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;    west &#39;</span><span class='p'>,</span>  <span class='nx'>ui</span><span class='p'>.</span><span class='nx'>bounds</span><span class='p'>.</span><span class='nx'>west</span><span class='p'>);</span>
<span class='p'>});</span>
</code></pre>
</div>



<div class='highlight'><pre><code class='text'>Map bounds:
    north 38.03040444840505
    east  -121.706669921875
    south 37.38723293115014
    west  -123.025029296875
</code></pre>
</div>


        <p>
            The <code>ui</code> parameter to the event handler will be populated with an <code>Object</code> containing
            the following properties.
        </p>
        <dl>
            <dt>bounds</dt>
            <dd>
                The bounding box of the map, as an <code>Object</code> containing the following properties.
                <dl>
                    <dt>vendor</dt>
                    <dd><a href='https://developers.google.com/maps/documentation/javascript/reference#LatLngBounds'>google.maps.LatLngBounds</a></dd>
                    <dt>north</dt>
                    <dd>The north most boundary of the bounding box. For example <code>43.22544272252788</code>.</dd>
                    <dt>east</dt>
                    <dd>The east most boundary of the bounding box. For example <code>-67.58411407470629</code>.</dd>
                    <dt>south</dt>
                    <dd>The south most boundary of the bounding box. For example <code>38.23413509208393</code>.</dd>
                    <dt>west</dt>
                    <dd>The west most boundary of the bounding box. For example <code>-82.96497344970629</code>.</dd>
                </dl>
            </dd>
            <dt>center</dt>
            <dd>
                The center point the map, as an <code>Object</code> containing the following properties.
                <dl>
                    <dt>vendor</dt>
                    <dd><a href='https://developers.google.com/maps/documentation/javascript/reference#LatLng'>google.maps.LatLng</a></dd>
                    <dt>latitude</dt>
                    <dd>For example <code>43.22544272252788</code>.</dd>
                    <dt>longitude</dt>
                    <dd>For example <code>-67.58411407470629</code>.</dd>
                </dl>
            </dd>
        </dl>
    </div>
    <div class='span4'>
        <h3>Example</h3>
        <div id='exampleGoogleMapBoundsTracker'>
            <label><span class='badge'>1</span> map</label>
            <div class='map-example'> </div>
            <label><span class='badge'>2</span> bounds</label>
            <label><input class='input-medium' name='north' /> north</label>
            <label><input class='input-medium' name='east' /> east</label>
            <label><input class='input-medium' name='south' /> south</label>
            <label><input class='input-medium' name='west' /> west</label>
        </div>
        <script type='text/javascript'>
            $(function() {
                var map = new google.maps.Map($('#exampleGoogleMapBoundsTracker .map-example')[0], {
                    center: new google.maps.LatLng(37.653, -122.245),
                    zoom: 8,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                });
                $('#exampleGoogleMapBoundsTracker .map-example')
                    .simplicityGoogleMap({map:map})
                    .simplicityGoogleMapBoundsTracker();
                $('#exampleGoogleMapBoundsTracker .map-example').bind('simplicitygooglemapboundstrackerbounds', function (evt, ui) {
                    $('#exampleGoogleMapBoundsTracker input[name="north"]').val(ui.bounds.north);
                    $('#exampleGoogleMapBoundsTracker input[name="east"]').val(ui.bounds.east);
                    $('#exampleGoogleMapBoundsTracker input[name="south"]').val(ui.bounds.south);
                    $('#exampleGoogleMapBoundsTracker input[name="west"]').val(ui.bounds.west);
                });
            });
        </script>
        <p>
            Pan and zoom the map in <span class='badge'>1</span> and notice how the bounds are updated in
            <span class='badge'>2</span>.
        </p>
    </div>
</div><div class='page-header'>
  <h1>simplicityGoogleMapGeocoder</h1>
</div><div class='row'>
    <div class='span8'>
        <p>
            Wraps a <a href='https://developers.google.com/maps/documentation/javascript/reference#Geocoder'>google.maps.Geocoder</a>
            to provide geocoding services, converting addresses to latitude and longitude coordinates.
        </p>
        <p>
            To use this widget, simply attach it to a DOM element.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>simplicityGoogleGeocoder</span><span class='p'>();</span>
</code></pre>
</div>


        <p>
            Then you can call the <code>geocode</code> method. Note that it takes two arguments, the first is
            the <a href='https://developers.google.com/maps/documentation/javascript/reference#GeocoderRequest'>maps.google.GeocoderRequest</a>
            and the second a callback function that can handle the response once complete.
        </p>

<div class='highlight'><pre><code class='javascript'><span class='kd'>var</span> <span class='nx'>request</span> <span class='o'>=</span> <span class='p'>{</span>
    <span class='nx'>address</span><span class='o'>:</span> <span class='s1'>&#39;the whitehouse&#39;</span>
<span class='p'>};</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>simplicityGoogleGeocoder</span><span class='p'>(</span><span class='s1'>&#39;geocode&#39;</span><span class='p'>,</span> <span class='nx'>request</span><span class='p'>,</span> <span class='kd'>function</span> <span class='p'>(</span><span class='nx'>response</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;Geocoded:&#39;</span><span class='p'>);</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;    address:  &#39;</span><span class='p'>,</span> <span class='nx'>response</span><span class='p'>.</span><span class='nx'>items</span><span class='p'>[</span><span class='mi'>0</span><span class='p'>].</span><span class='nx'>value</span><span class='p'>);</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;    latitude: &#39;</span><span class='p'>,</span> <span class='nx'>response</span><span class='p'>.</span><span class='nx'>items</span><span class='p'>[</span><span class='mi'>0</span><span class='p'>].</span><span class='nx'>latitude</span><span class='p'>);</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;    longitude:&#39;</span><span class='p'>,</span> <span class='nx'>response</span><span class='p'>.</span><span class='nx'>items</span><span class='p'>[</span><span class='mi'>0</span><span class='p'>].</span><span class='nx'>longitude</span><span class='p'>);</span>
<span class='p'>});</span>
</code></pre>
</div>



<div class='highlight'><pre><code class='text'>Geocoded:
    address:   The White House, President&#39;s Park, 1600 Pennsylvania Avenue Northwest, Washington, DC 20500, USA
    latitude:  38.89768309999999
    longitude: -77.03649719999999
</code></pre>
</div>


    </div>
    <div class='span4'>
        <h3>Example</h3>
        <div id='exampleGoogleGeocoder'>
            <label><span class='badge'>1</span> address</label>
            <input class='input-medium' name='address' value='mount rushmore' />
            <label><span class='badge'>2</span> response</label>
            <textarea class='input-large' name='response' rows='10'> </textarea>
        </div>
        <script type='text/javascript'>
            $(function() {
                $('#exampleGoogleGeocoder').simplicityGoogleGeocoder();
                $('#exampleGoogleGeocoder input').change(function (evt, ui) {
                    var request = {
                        address: $(evt.target).val()
                    };
                    $('#exampleGoogleGeocoder').simplicityGoogleGeocoder('geocode', request, function (response) {
                        $('#exampleGoogleGeocoder textarea').val(JSON.stringify(response, null, '  '));
                    });
                }).change();
            });
        </script>
        <p>
            Enter an address into <span class='badge'>1</span>, press enter or click outside the <code>input</code> and
            view the geocoded response in <span class='badge'>2</span>.
        </p>
    </div>
</div><div class='page-header'>
  <h2>autocompleteSource</h2>
</div><div class='row'>
    <div class='span8'>
        <p>
            The <code>simplicityGoogleMapGeocode</code> widget can also act as a
            <a href='http://api.jqueryui.com/autocomplete/'>jQuery UI autocomplete</a> source.
        </p>
        <p>
            To set this up.
        </p>

<div class='highlight'><pre><code class='html'><span class='nt'>&lt;input</span> <span class='na'>name=</span><span class='s'>&quot;address&quot;</span> <span class='nt'>/&gt;</span>
</code></pre>
</div>



<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>simplicityGoogleGeocoder</span><span class='p'>();</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;input&#39;</span><span class='p'>).</span><span class='nx'>autocomplete</span><span class='p'>({</span>
    <span class='nx'>source</span><span class='o'>:</span> <span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#example&#39;</span><span class='p'>).</span><span class='nx'>simplicityGoogleGeocoder</span><span class='p'>(</span><span class='s1'>&#39;autocompleteSource&#39;</span><span class='p'>);</span>
<span class='p'>});</span>
</code></pre>
</div>


    <p>
        You could then listen for <code>autocompletechange</code> events to process the user's selection.
    </p>

<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;input&#39;</span><span class='p'>).</span><span class='nx'>bind</span><span class='p'>(</span><span class='s1'>&#39;autocompletechange&#39;</span><span class='p'>,</span> <span class='kd'>function</span> <span class='p'>(</span><span class='nx'>evt</span><span class='p'>,</span> <span class='nx'>ui</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='c1'>// Process the selection</span>
    <span class='nx'>console</span><span class='p'>.</span><span class='nx'>log</span><span class='p'>(</span><span class='s1'>&#39;ui&#39;</span><span class='p'>,</span> <span class='nx'>ui</span><span class='p'>);</span>
<span class='p'>});</span>
</code></pre>
</div>


    </div>
    <div class='span4'>
        <h3>Example</h3>
        <div id='exampleGoogleGeocoderAutocomplete'>
            <label><span class='badge'>1</span> address</label>
            <input class='input-medium' name='address' />
            <label><span class='badge'>2</span> autocompletechange</label>
            <textarea class='input-large' name='response' rows='10'> </textarea>
        </div>
        <script type='text/javascript'>
            $(function() {
                $('#exampleGoogleGeocoderAutocomplete').simplicityGoogleGeocoder();
                $('#exampleGoogleGeocoderAutocomplete input')
                    .autocomplete({
                        source:$('#exampleGoogleGeocoderAutocomplete').simplicityGoogleGeocoder('autocompleteSource')
                    })
                    .bind('autocompletechange', function (evt, ui) {
                        $('#exampleGoogleGeocoderAutocomplete textarea').val(JSON.stringify(ui, null, '  '))
                    });
            });
        </script>
        <p>
            Slowly type an address into <span class='badge'>1</span>. Once you select an option and press enter or click
            outside of the <code>input</code>, the <code>autocompletechange</code> event's <code>ui</code> argument is placed into
            <span class='badge'>2</span>.
        </p>
    </div>
</div>
    </div>

    <footer class="footer">
      <div class="container">
        <p class="pull-right">
            <a href="#" onclick="window.scrollTo(0,0);return false;">Back to top</a>
        </p>
        <p>
          Designed and built by the good folks at <a href="http://transparensee.com">Transparensee Systems</a>.
        </p>
      </div>
    </footer>
    <!--[if lt IE 9]>
      <script src="http://cdn.transparensee.com/lib/json2/2010-11-17/json2.min.js"></script>
    <![endif]-->
    <!--[if IE]>
      <script src="http://cdn.transparensee.com/lib/xdr/984c41/xdr.min.js"></script>
      <script src="http://cdn.transparensee.com/lib/jquery-plugin/bgiframe/2.1.2/jquery.bgiframe.min.js"></script>
    <![endif]-->
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js"></script>
    <script src="http://cdn.transparensee.com/lib/jquery-plugin/touchpunch/0.2.2/jquery.ui.touch-punch.min.js"></script>
    <script src="http://cdn.transparensee.com/lib/jquery-plugin/bbq/1.2.1/jquery.ba-bbq.min.js"></script>
    <script src="http://cdn.transparensee.com/lib/bootstrap/2.1.1/bootstrap.min.js"></script>
    <script src="http://cdn.transparensee.com/simplicity/3.2/simplicity.min.js"></script>
    <script src="/js/documentation.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
  </body>
</html>
