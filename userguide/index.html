<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Simplicity Widgets - userguide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="http://cdn.transparensee.com/lib/bootstrap/2.1.1/bootstrap.min.css" rel="stylesheet">
    <link href="http://cdn.transparensee.com/lib/bootstrap/2.1.1/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/themes/base/jquery-ui.css" rel="stylesheet">
    <link href="http://cdn.transparensee.com/simplicity/3.2/simplicity.min.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <link href="/css/documentation.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="navbar navbar-inverse navbar-static-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">Simplicity Widgets</a>
          <ul class="nav">
            
              
                <li><a href="/">home</a></li>
              
            
              
                <li class="active"><a href="/userguide/" class="active">userguide</a></li>
              
            
              
                <li><a href="/download.html">download</a></li>
              
            
              
                <li><a href="/jsdoc/">jsdoc</a></li>
              
            
              
                <li><a href="/changelog.html">changelog</a></li>
              
            
          </ul>
        </div>
      </div>
    </div>

    
      <header class="subhead">
        <div class="container">
          <h1>Userguide</h1>
          
            <p class="lead">Learning how to use the widgets.</p>
          
        </div>
      </header>
    

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <div class="container">
<div class='userguide-nav row'>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Basics</li>
            <li class='active'><a href='/userguide/'>Getting started</a></li>
            <li class=''><a href='/userguide/primer.html'>Primer</a></li>
            <li class=''><a href='/userguide/widgetgroups.html'>Widget groups</a></li>
        </ul>
    </div>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Search</li>
            <li class=''><a href='/userguide/simplicityState.html'>simplicityState</a></li>
            <li class=''><a href='/userguide/simplicityDiscoverySearch.html'>simplicityDiscoverySearch</a></li>
            <li class=''><a href='/userguide/simplicityInputs.html'>simplicityInputs</a></li>
        </ul>
    </div>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Response Widgets</li>
            <li class=''><a href='/userguide/simplicitySearchResults.html'>simplicitySearchResults</a></li>
            <li class=''><a href='/userguide/simplicityFacetedSelect.html'>simplicityFacetedSelect</a></li>
        </ul>
    </div>
</div><div class='userguide-nav row'>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>User Interface</li>
            <li class=''><a href='/userguide/simplicityFancySelect.html'>simplicityFancySelect</a></li>
            <li class=''><a href='/userguide/simplicitySelectSlider.html'>simplicitySelectSlider</a></li>
        </ul>
    </div>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Mapping</li>
            <li class=''><a href='/userguide/googleMaps.html'>Google Maps</a></li>
        </ul>
    </div>
    <div class='span4'>
        <ul class='nav nav-list'>
            <li class='nav-header'>Examples</li>
            <li class=''><a href='/userguide/example/gettingstarted.html'>Getting Started</a></li>
        </ul>
    </div>
</div><div class='page-header'>
  <h1>Getting started</h1>
</div>
<p>The Simplicity Widgets are designed to be extensible, and to get out of the way when you need them to.</p>

<p>They follow simple architectural patterns for communicating with a search server, coordinating widget state on the page, and displaying results.</p>

<p><a href='http://jquery.com/'>jQuery</a> and <a href='http://jqueryui.com/'>jQuery UI</a> are required to use the widgets.</p>

<p>There are three high-level steps to use the widgets on a page:</p>

<ol>
<li>install the widgets on the page with <code>link</code> and <code>script</code> tags</li>

<li>add HTML elements for the search and result areas</li>

<li>add a few lines of JavaScript to configure the widgets</li>
</ol>
<div class='page-header'>
  <h1>Install</h1>
</div>
<p>You need to add <code>link</code> and <code>script</code> tags for the JavaScript and CSS resources for the widgets.</p>

<p>Add the CSS references to the <code>head</code> of the page.</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;link</span> <span class='na'>href=</span><span class='s'>&quot;http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/themes/base/jquery-ui.css&quot;</span> <span class='na'>rel=</span><span class='s'>&quot;stylesheet&quot;</span><span class='nt'>&gt;</span>
<span class='nt'>&lt;link</span> <span class='na'>href=</span><span class='s'>&quot;http://cdn.transparensee.com/simplicity/3.2/simplicity.min.css&quot;</span> <span class='na'>rel=</span><span class='s'>&quot;stylesheet&quot;</span><span class='nt'>&gt;</span>
</code></pre>
</div>
<p>Note: You can use any of the available <a href='http://jqueryui.com/themeroller/'>jQuery UI themes</a>.</p>

<p>Add these external JavaScript references to the end of the <code>body</code> of the page.</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
<span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
<span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;http://cdn.transparensee.com/simplicity/3.2/simplicity.min.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
</code></pre>
</div>
<p>Some widgets have extra dependencies, you&#8217;ll need to add <code>script</code> tags for them.</p>
<dl>
    <dt><a href='http://benalman.com/projects/jquery-bbq-plugin/'>jQuery BBQ plugin</a></dt>
    <dd>
        Used by <code>$.simplicityDiscoverySearch('mergeQueryParams')</code> and <code>$.simplicityHistory</code>.

<div class='highlight'><pre><code class='html'><span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;http://cdn.transparensee.com/lib/jquery-plugin/bbq/1.2.1/jquery.ba-bbq.min.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
</code></pre>
</div>


    </dd>
</dl>
<p>Some browsers need extra JavaScript support to function well, you&#8217;ll need to add <code>script</code> tags for the following libraries for most compatibility.</p>
<dl>
    <dt><a href='https://github.com/douglascrockford/JSON-js'>JSON2</a></dt>
    <dd>
        Gracefully adds support for <code>JSON.parse</code> and <code>JSON.stringify</code>
        to browsers that do not have native <code>JSON</code> support.

<div class='highlight'><pre><code class='html'><span class='c'>&lt;!--[if lt IE 9]&gt;</span>
<span class='c'>  &lt;script src=&quot;http://cdn.transparensee.com/lib/json2/2010-11-17/json2.min.js&quot;&gt;&lt;/script&gt;</span>
<span class='c'>&lt;![endif]--&gt;</span>
</code></pre>
</div>


    </dd>
    <dt><a href='http://brandonaaron.net/code/bgiframe/docs'>jQuery bgiframe plugin</a></dt>
    <dd>
        Recommended for IE6 compatibility when using <code>$.simplicityFlyout</code>.

<div class='highlight'><pre><code class='html'><span class='c'>&lt;!--[if IE]&gt;</span>
<span class='c'>  &lt;script src=&quot;http://cdn.transparensee.com/lib/jquery-plugin/bgiframe/2.1.2/jquery.bgiframe.min.js&quot;&gt;&lt;/script&gt;</span>
<span class='c'>&lt;![endif]--&gt;</span>
</code></pre>
</div>


    </dd>
    <dt><a href='http://html5shim.googlecode.com'>html5shim</a></dt>
    <dd>
        Adds HTML5 element support to IE. This script tag <em>must</em> go
        in the <code>head</code> section of your page.

<div class='highlight'><pre><code class='html'><span class='c'>&lt;!--[if lt IE 9]&gt;</span>
<span class='c'>  &lt;script src=&quot;http://html5shim.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;</span>
<span class='c'>&lt;![endif]--&gt;</span>
</code></pre>
</div>



    </dd>
    <dt><a href='https://gist.github.com/thej/4082821'>xdr.js</a></dt>
    <dd>
        Adds support for CORS requests to older versions of IE.

<div class='highlight'><pre><code class='html'><span class='c'>&lt;!--[if IE]&gt;</span>
<span class='c'>  &lt;script src=&quot;http://cdn.transparensee.com/lib/xdr/984c41/xdr.min.js&quot;&gt;&lt;/script&gt;</span>
<span class='c'>&lt;![endif]--&gt;</span>
</code></pre>
</div>


    </dd>
    <dt><a href='http://touchpunch.furf.com'>jQuery Touch Punch plugin</a></dt>
    <dd>
        Adds tablet/phone touch event support to jQuery UI.

<div class='highlight'><pre><code class='html'><span class='nt'>&lt;script </span><span class='na'>src=</span><span class='s'>&quot;http://cdn.transparensee.com/lib/jquery-plugin/touchpunch/0.2.2/jquery.ui.touch-punch.min.js&quot;</span><span class='nt'>&gt;&lt;/script&gt;</span>
</code></pre>
</div>


    </dd>
</dl>
<p>You will add javascript code after the above tags to instantiate and configure the widgets that you want to use. We&#8217;ll get to that in a bit.</p>
<div class='page-header'>
  <h1>HTML</h1>
</div>
<p>Add the search navigation <code>form</code> to the left side of the page.</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;form</span> <span class='na'>id=</span><span class='s'>&quot;searchForm&quot;</span> <span class='na'>class=</span><span class='s'>&quot;form-search&quot;</span> <span class='na'>onsubmit=</span><span class='s'>&quot;return false;&quot;</span><span class='nt'>&gt;</span>
  <span class='nt'>&lt;button</span> <span class='na'>id=</span><span class='s'>&quot;searchButton&quot;</span> <span class='na'>type=</span><span class='s'>&quot;submit&quot;</span> <span class='na'>class=</span><span class='s'>&quot;btn&quot;</span><span class='nt'>&gt;</span>Search<span class='nt'>&lt;/button&gt;</span>
  <span class='nt'>&lt;button</span> <span class='na'>id=</span><span class='s'>&quot;resetButton&quot;</span> <span class='na'>type=</span><span class='s'>&quot;button&quot;</span> <span class='na'>class=</span><span class='s'>&quot;btn&quot;</span><span class='nt'>&gt;</span>Reset<span class='nt'>&lt;/button&gt;</span>
  <span class='nt'>&lt;label&gt;</span>
    Text Search
    <span class='nt'>&lt;input</span> <span class='na'>type=</span><span class='s'>&quot;text&quot;</span> <span class='na'>name=</span><span class='s'>&quot;dataset_freetext&quot;</span> <span class='na'>class=</span><span class='s'>&quot;input-medium search-query&quot;</span><span class='nt'>&gt;</span>
  <span class='nt'>&lt;/label&gt;</span>
  <span class='nt'>&lt;label&gt;</span>
    Category Type
    <span class='nt'>&lt;select</span> <span class='na'>name=</span><span class='s'>&quot;category_type&quot;</span> <span class='na'>class=</span><span class='s'>&quot;input-medium&quot;</span><span class='nt'>&gt;</span>
      <span class='nt'>&lt;option</span> <span class='na'>value=</span><span class='s'>&quot;&quot;</span><span class='nt'>&gt;</span>Any...<span class='nt'>&lt;/option&gt;</span>
      <span class='nt'>&lt;option</span> <span class='na'>value=</span><span class='s'>&quot;1&quot;</span><span class='nt'>&gt;</span>Raw Data Catalog<span class='nt'>&lt;/option&gt;</span>
      <span class='nt'>&lt;option</span> <span class='na'>value=</span><span class='s'>&quot;2&quot;</span><span class='nt'>&gt;</span>Tool Catalog<span class='nt'>&lt;/option&gt;</span>
    <span class='nt'>&lt;/select&gt;</span>
  <span class='nt'>&lt;/label&gt;</span>
  <span class='nt'>&lt;label&gt;</span>
    Formats Available
    <span class='nt'>&lt;select</span> <span class='na'>name=</span><span class='s'>&quot;formats_avail&quot;</span> <span class='na'>class=</span><span class='s'>&quot;input-medium&quot;</span><span class='nt'>&gt;</span>
      <span class='nt'>&lt;option</span> <span class='na'>value=</span><span class='s'>&quot;&quot;</span><span class='nt'>&gt;</span>Any...<span class='nt'>&lt;/option&gt;</span>
    <span class='nt'>&lt;/select&gt;</span>
  <span class='nt'>&lt;/label&gt;</span>
  <span class='nt'>&lt;label&gt;</span>
    Agency
    <span class='nt'>&lt;select</span> <span class='na'>name=</span><span class='s'>&quot;agency&quot;</span> <span class='na'>class=</span><span class='s'>&quot;ui-helper-hidden-accessible&quot;</span><span class='nt'>&gt;</span>
      <span class='nt'>&lt;option</span> <span class='na'>value=</span><span class='s'>&quot;&quot;</span><span class='nt'>&gt;</span>Any...<span class='nt'>&lt;/option&gt;</span>
    <span class='nt'>&lt;/select&gt;</span>
    <span class='nt'>&lt;div</span> <span class='na'>id=</span><span class='s'>&quot;agencyFancy&quot;</span><span class='nt'>&gt;&lt;/div&gt;</span>
  <span class='nt'>&lt;/label&gt;</span>
<span class='nt'>&lt;/form&gt;</span>
</code></pre>
</div>
<p>Add the results and pagination <code>div</code>s to the content area of the page.</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;div</span> <span class='na'>id=</span><span class='s'>&quot;paginationTop&quot;</span><span class='nt'>&gt;&lt;/div&gt;</span>
<span class='nt'>&lt;div</span> <span class='na'>id=</span><span class='s'>&quot;searchResults&quot;</span><span class='nt'>&gt;&lt;/div&gt;</span>
<span class='nt'>&lt;div</span> <span class='na'>id=</span><span class='s'>&quot;paginationBottom&quot;</span><span class='nt'>&gt;&lt;/div&gt;</span>
</code></pre>
</div><div class='page-header'>
  <h1>JavaScript</h1>
</div>
<p>We configure the widgets in a <code>script</code> tag below the script tags that loaded simplicity.js and its dependencies.</p>

<p>Only one <a href='/userguide/widgetgroups.html'>widget group</a> is needed, so we create a <code>simplicityState</code> widget on the <code>body</code> element.</p>
<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;body&#39;</span><span class='p'>).</span><span class='nx'>simplicityState</span><span class='p'>();</span>
</code></pre>
</div>
<p>Then we configure request widgets on the <code>input</code>s in the search navigation <code>form</code>.</p>
<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#searchForm :input&#39;</span><span class='p'>).</span><span class='nx'>simplicityInputs</span><span class='p'>();</span>

<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;select[name=&quot;formats_avail&quot;]&#39;</span><span class='p'>).</span><span class='nx'>simplicityFacetedSelect</span><span class='p'>({</span>
  <span class='nx'>optionTemplate</span><span class='o'>:</span> <span class='s1'>&#39;{option}  ({count})&#39;</span>
<span class='p'>});</span>

<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;select[name=&quot;agency&quot;]&#39;</span><span class='p'>).</span><span class='nx'>simplicityFacetedSelect</span><span class='p'>({</span>
  <span class='nx'>maxDepth</span><span class='o'>:</span> <span class='mi'>1</span>
<span class='p'>});</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#agencyFancy&#39;</span><span class='p'>).</span><span class='nx'>simplicityFancySelect</span><span class='p'>({</span>
  <span class='nx'>select</span><span class='o'>:</span> <span class='s1'>&#39;select[name=&quot;agency&quot;]&#39;</span>
<span class='p'>});</span>

<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#resetButton&#39;</span><span class='p'>).</span><span class='nx'>click</span><span class='p'>(</span><span class='kd'>function</span> <span class='p'>()</span> <span class='p'>{</span>
  <span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;body&#39;</span><span class='p'>).</span><span class='nx'>simplicityState</span><span class='p'>(</span><span class='s1'>&#39;reset&#39;</span><span class='p'>);</span>
<span class='p'>});</span>
</code></pre>
</div>
<p>The response widgets are created for the <code>div</code>s in the content area to display the search results and pagination links.</p>
<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#searchResults&#39;</span><span class='p'>).</span><span class='nx'>simplicitySearchResults</span><span class='p'>({</span>
  <span class='nx'>resultsCallback</span><span class='o'>:</span> <span class='nb'>window</span><span class='p'>.</span><span class='nx'>search_results_gsa</span>
<span class='p'>});</span>
<span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;#paginationTop,#paginationBottom&#39;</span><span class='p'>).</span><span class='nx'>simplicityPagination</span><span class='p'>();</span>
</code></pre>
</div>
<p>Finally, we perform the <a href='/userguide/simplicityDiscoverySearch.html'>page level setup</a> of the <code>simplicityDiscoverySearch</code> widget.</p>
<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>(</span><span class='s1'>&#39;body&#39;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='nx'>simplicityState</span><span class='p'>(</span><span class='s1'>&#39;mergeQueryParams&#39;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='nx'>simplicityHistory</span><span class='p'>()</span>
  <span class='p'>.</span><span class='nx'>simplicityState</span><span class='p'>(</span><span class='s1'>&#39;triggerChangeEvent&#39;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='nx'>simplicityPageSnapBack</span><span class='p'>()</span>
  <span class='p'>.</span><span class='nx'>simplicityDiscoverySearch</span><span class='p'>({</span>
    <span class='nx'>url</span><span class='o'>:</span> <span class='s1'>&#39;http://gsa.discoverysearchengine.com:8090/ws/query&#39;</span><span class='p'>,</span>
    <span class='nx'>backend</span><span class='o'>:</span> <span class='s1'>&#39;engine&#39;</span><span class='p'>,</span>
    <span class='nx'>controllerCallback</span><span class='o'>:</span> <span class='nb'>window</span><span class='p'>.</span><span class='nx'>search_controller_gsa</span><span class='p'>,</span>
  <span class='p'>})</span>
  <span class='p'>.</span><span class='nx'>simplicityDiscoverySearch</span><span class='p'>(</span><span class='s1'>&#39;search&#39;</span><span class='p'>);</span>
</code></pre>
</div>
<p>For the best user experience, we recommend placing any slow-loading scripts such map vendor scripts below all the Simplicity Widget JavaScript so that the widgets can be fully functional and displayed before the slow loading scripts are executed.</p>
<div class='page-header'>
  <h1>Summary</h1>
</div>
<p>We&#8217;ve demonstrated how to build a basic search page that use an external PHP backed search controller accessed via AJAX CORS requests.</p>
<a class='btn btn-primary button-large' href='/userguide/example/gettingstarted.html'>View Example</a>
    </div>

    <footer class="footer">
      <div class="container">
        <p class="pull-right">
            <a href="#" onclick="window.scrollTo(0,0);return false;">Back to top</a>
        </p>
        <p>
          Designed and built by the good folks at <a href="http://transparensee.com">Transparensee Systems</a>.
        </p>
      </div>
    </footer>
    <!--[if lt IE 9]>
      <script src="http://cdn.transparensee.com/lib/json2/2010-11-17/json2.min.js"></script>
    <![endif]-->
    <!--[if IE]>
      <script src="http://cdn.transparensee.com/lib/xdr/984c41/xdr.min.js"></script>
      <script src="http://cdn.transparensee.com/lib/jquery-plugin/bgiframe/2.1.2/jquery.bgiframe.min.js"></script>
    <![endif]-->
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js"></script>
    <script src="http://cdn.transparensee.com/lib/jquery-plugin/touchpunch/0.2.2/jquery.ui.touch-punch.min.js"></script>
    <script src="http://cdn.transparensee.com/lib/jquery-plugin/bbq/1.2.1/jquery.ba-bbq.min.js"></script>
    <script src="http://cdn.transparensee.com/lib/bootstrap/2.1.1/bootstrap.min.js"></script>
    <script src="http://cdn.transparensee.com/simplicity/3.2/simplicity.min.js"></script>
    <script src="/js/documentation.js"></script>
  </body>
</html>
